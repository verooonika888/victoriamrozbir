<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Персональна Діагностика | Віка Мещерякова</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Intl-Tel-Input CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.css" />
    
    <!-- Fonts from reference -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- WayForPay Widget Script -->
    <script id="widget-wfp-script" language="javascript" type="text/javascript" src="https://secure.wayforpay.com/server/pay-widget.js"></script>
    
    <!-- Crypto JS (ДЛЯ ГЕНЕРАЦІЇ ПІДПИСУ) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    
    fbq('init', '1648181812851913'); 
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1648181812851913&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        mono: { bg: '#F9F9F9', black: '#0F0F0F', grey: '#6B6B6B', light: '#E5E5E5' }
                    },
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                }
            }
        }
    </script>

    <style>
        body { background-color: #F9F9F9; color: #0F0F0F; overflow-x: hidden; }
        
        /* Стилі інпутів під новий дизайн */
        .iti { width: 100%; }
        .iti__flag { background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/img/flags.png"); }
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
          .iti__flag { background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/img/flags@2x.png"); }
        }
        
        input {
            background-color: transparent !important;
            border: 1px solid #E5E5E5 !important;
            color: #0F0F0F !important;
            border-radius: 0px !important;
            font-size: 14px !important;
        }
        input:focus {
            border-color: #0F0F0F !important;
            box-shadow: none !important;
            outline: none !important;
        }
        .iti__selected-flag { background-color: transparent !important; }
        
        .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        /* Стилі для карток галереї */
        .gallery-card {
            background-color: #F9F9F9;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Анімація для нижньої кнопки */
        #sticky-cta {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
        .cta-hidden {
            transform: translateY(100%);
            opacity: 0;
            pointer-events: none;
        }
        .cta-visible {
            transform: translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
    </style>
</head>
<body class="antialiased text-sm md:text-base pb-24">

    <!-- HERO SECTION -->
    <section id="hero-section" class="relative min-h-[100dvh] flex flex-col justify-center pb-4 overflow-hidden bg-mono-bg">
        
        <!-- Фонове зображення (світлий градієнт для читабельності) -->
        <div class="absolute inset-0 z-0 overflow-hidden">
            <img src="IMG_2516.jpg" 
                 alt="Victoria Meshcheriakova" 
                 class="w-full h-full object-cover object-top opacity-30 grayscale">
            
            <div class="absolute inset-0 bg-gradient-to-t from-[#F9F9F9] via-[#F9F9F9]/80 to-transparent z-10"></div>
            <div class="absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-[#F9F9F9] to-transparent z-10"></div>
        </div>

        <!-- Контейнер контенту -->
        <div class="container mx-auto px-6 relative z-20 w-full max-w-lg md:max-w-2xl flex flex-col items-center text-center mt-16 md:mt-0">
            
            <!-- Бейдж -->
            <div class="inline-block border-b border-black pb-1 mb-8">
                <p class="text-[10px] md:text-xs font-bold uppercase tracking-[0.25em] text-black">Персональний розбір</p>
            </div>

            <!-- Головний Оффер -->
            <h1 class="font-serif text-4xl md:text-5xl lg:text-6xl font-bold leading-[1.1] text-black mb-6 tracking-tight">
                ОТРИМАЙ готову <span class="italic font-normal text-mono-grey">СИСТЕМУ</span> роботи з контентом і візуалом, ЯКА ПРИВОДИТЬ <span class="italic font-normal text-mono-grey">КЛІЄНТІВ ТА БРЕНДИ</span>
            </h1>

            <!-- Підзаголовок -->
            <div class="max-w-[280px] md:max-w-md border-l-2 border-black pl-5 mb-10 mx-auto">
                <p class="font-sans text-xs md:text-base font-medium text-gray-800 leading-relaxed text-left">
                    БЕЗ хаосу, ЩОДЕННИХ ЗЙОМОК ТА втрати часу.
                </p>
            </div>

            <!-- Ціна та Таймер -->
            <div class="w-full max-w-[320px] mx-auto flex flex-col gap-4 mb-8">
                
                <!-- Блок Ціни -->
                <div class="bg-white rounded-none p-6 text-center shadow-sm relative overflow-hidden border border-gray-200">
                    <div id="ui-price-old" class="text-mono-grey line-through font-medium text-sm mb-1">
                        1790 грн
                    </div>
                    <div id="ui-price-main" class="text-4xl font-serif font-bold text-black leading-none">
                        390 грн
                    </div>
                </div>

                <!-- Блок Таймера -->
                <div class="border border-gray-200 rounded-none py-3 px-4 text-center bg-white/50 backdrop-blur-sm">
                    <p class="text-black text-[10px] md:text-xs font-bold uppercase tracking-widest mb-0 inline-flex items-center gap-2">
                        до збільшення ціни: 
                        <span id="hero-timer" class="text-black text-lg font-serif font-bold">10:00</span>
                    </p>
                </div>

            </div>

            <!-- Кнопка -->
            <div class="w-full max-w-xs mx-auto">
                 <button onclick="openModal()" class="w-full bg-black text-white px-8 py-4 font-bold uppercase tracking-[0.15em] text-[10px] md:text-xs hover:bg-gray-800 transition-colors shadow-xl flex items-center justify-center gap-3">
                    <span>Хочу розбір</span>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-2.5 h-2.5">
                        <path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            
        </div>
    </section>

    <!-- РЕЗУЛЬТАТИ СТОРІТЕЛІВ -->
    <section class="py-24 px-6 bg-white border-b border-gray-100">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="font-serif text-3xl md:text-4xl font-bold mb-3">Ось як змінюється твій візуал і контент <br><span class="italic font-normal text-mono-grey">після розбору</span></h2>
                <div class="w-16 h-px bg-black mx-auto mt-6"></div>
            </div>

            <!-- Контейнер слайдера з кнопками -->
            <div class="relative group/slider">
                <button onclick="scrollContainer('storytelling-container', -1)" class="hidden md:flex absolute -left-12 top-1/2 -translate-y-1/2 z-20 w-10 h-10 items-center justify-center bg-white border border-gray-200 text-black shadow-sm hover:border-black transition-all">
                    <i data-lucide="chevron-left" class="w-5 h-5"></i>
                </button>

                <!-- Слайдер -->
                <div id="storytelling-container" class="flex overflow-x-auto gap-4 pb-8 scrollbar-hide px-4 md:px-0">
                    
                    <div class="shrink-0 w-[80vw] md:w-[320px] aspect-square gallery-card border border-gray-100 transition-all group cursor-pointer" onclick="openImageModal(this)">
                        <img src="1.jpg" alt="Результат 1" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                            <i data-lucide="zoom-in" class="text-black w-8 h-8 opacity-80"></i>
                        </div>
                    </div>
                    <div class="shrink-0 w-[80vw] md:w-[320px] aspect-square gallery-card border border-gray-100 transition-all group cursor-pointer" onclick="openImageModal(this)">
                        <img src="5.jpg" alt="Результат 2" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                            <i data-lucide="zoom-in" class="text-black w-8 h-8 opacity-80"></i>
                        </div>
                    </div>
                    <div class="shrink-0 w-[80vw] md:w-[320px] aspect-square gallery-card border border-gray-100 transition-all group cursor-pointer" onclick="openImageModal(this)">
                        <img src="3.jpg" alt="Результат 3" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                            <i data-lucide="zoom-in" class="text-black w-8 h-8 opacity-80"></i>
                        </div>
                    </div>
                    <div class="shrink-0 w-[80vw] md:w-[320px] aspect-square gallery-card border border-gray-100 transition-all group cursor-pointer" onclick="openImageModal(this)">
                        <img src="4.jpg" alt="Результат 4" class="w-full h-full object-cover">
                        <div class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none">
                            <i data-lucide="zoom-in" class="text-black w-8 h-8 opacity-80"></i>
                        </div>
                    </div>

                </div>
                
                <button onclick="scrollContainer('storytelling-container', 1)" class="hidden md:flex absolute -right-12 top-1/2 -translate-y-1/2 z-20 w-10 h-10 items-center justify-center bg-white border border-gray-200 text-black shadow-sm hover:border-black transition-all">
                    <i data-lucide="chevron-right" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="flex items-center justify-center gap-2 text-mono-grey mt-2">
                <p class="text-[9px] uppercase tracking-[0.2em] font-medium">Гортайте приклади</p>
            </div>

            <div class="w-full max-w-xs mx-auto mt-10 text-center">
                 <button onclick="openModal()" class="inline-block bg-transparent border border-black text-black px-10 py-3 hover:bg-black hover:text-white transition-all duration-300 uppercase tracking-widest text-[10px] font-bold">
                    Хочу розбір
                </button>
            </div>
        </div>
    </section>

    <!-- AGITATION SECTION -->
    <section class="py-24 px-6 bg-mono-bg relative">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="font-serif text-3xl md:text-4xl font-bold mb-3">Чому твій контент і візуал <br><span class="italic font-normal text-mono-grey">не працює і не продає?</span></h2>
                <div class="w-16 h-px bg-black mx-auto mt-6"></div>
                <p class="text-[10px] text-gray-500 uppercase tracking-[0.2em] font-bold mt-6">
                    90% експертів роблять одні й ті самі помилки
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                <!-- Card 1 -->
                <div class="flex flex-col p-6 border-l border-gray-200 hover:border-black transition-colors duration-500 group bg-white shadow-sm">
                    <span class="text-3xl font-serif mb-3 text-gray-300 group-hover:text-black transition-colors">I</span>
                    <p class="text-xs text-gray-600 leading-loose">
                        Немає <span class="text-black font-bold">відчуття “це я”</span>: наче гарно але не маєш власного візуального стилю, виглядає "як усі", що не дозволяє виділитися і запам'ятатися.
                    </p>
                </div>
                <!-- Card 2 -->
                <div class="flex flex-col p-6 border-l border-gray-200 hover:border-black transition-colors duration-500 group bg-white shadow-sm">
                    <span class="text-3xl font-serif mb-3 text-gray-300 group-hover:text-black transition-colors">II</span>
                    <p class="text-xs text-gray-600 leading-loose">
                        Намагаєшся зробити <span class="text-black font-bold">«ідеальний пост»</span>, витрачаючи години на правки, і все одно не задоволена результатом. Або публікуєш хаотично, або не публікуєш взагалі.
                    </p>
                </div>
                <!-- Card 3 -->
                <div class="flex flex-col p-6 border-l border-gray-200 hover:border-black transition-colors duration-500 group bg-white shadow-sm">
                    <span class="text-3xl font-serif mb-3 text-gray-300 group-hover:text-black transition-colors">III</span>
                    <p class="text-xs text-gray-600 leading-loose">
                        Працюєш то по шаблонах, то по трендам, <span class="text-black font-bold">не розуміючи з чого почати</span>, як поєднати текст і візуал та створювати контент, який буде продавати.
                    </p>
                </div>
            </div>

            <div class="mt-16 text-center">
                 <button onclick="openModal()" class="inline-block bg-black text-white px-10 py-4 hover:bg-gray-800 transition-all duration-300 uppercase tracking-[0.15em] text-[10px] font-bold shadow-xl">
                    Хочу розбір
                </button>
            </div>
        </div>
    </section>

    <!-- EXPERTS HIDE THIS -->
    <section class="py-24 px-6 bg-white border-t border-gray-100">
        <div class="max-w-3xl mx-auto">
            <h2 class="font-serif text-3xl md:text-4xl text-center mb-6 font-bold">
                Інші експерти <span class="italic font-normal text-mono-grey">приховують це</span>, <br>бо заробляють на твоєму хаосі
            </h2>
            
            <p class="text-sm text-gray-500 text-center mb-16 font-medium leading-relaxed max-w-xl mx-auto">
                Я детально аналізую твій профіль, контент і візуал, і даю тобі готову робочу систему, яку ти зможеш впровадити вже завтра.
            </p>
            
            <div class="space-y-6">
                <div class="group bg-white p-8 border border-gray-100 shadow-sm hover:shadow-xl hover:border-black transition-all duration-300">
                    <div class="flex flex-col md:flex-row md:items-baseline gap-4">
                        <span class="font-serif text-3xl italic text-gray-300 group-hover:text-black transition-colors shrink-0">01.</span>
                        <div>
                            <h3 class="font-bold text-lg mb-2 text-black">Повний "апгрейд" твого блогу</h3>
                            <p class="text-xs text-gray-600 font-light leading-relaxed">Я розберу твій профіль по деталях і покажу приховані помилки, які зараз крадуть твоїх потенційних клієнтів.</p>
                        </div>
                    </div>
                </div>
                <div class="group bg-white p-8 border border-gray-100 shadow-sm hover:shadow-xl hover:border-black transition-all duration-300">
                    <div class="flex flex-col md:flex-row md:items-baseline gap-4">
                        <span class="font-serif text-3xl italic text-gray-300 group-hover:text-black transition-colors shrink-0">02.</span>
                        <div>
                            <h3 class="font-bold text-lg mb-2 text-black">Персональна система без сумнівів</h3>
                            <p class="text-xs text-gray-600 font-light leading-relaxed">Ти отримаєш чіткий покроковий план: на яких темах будувати контент, як наповнити його правильними сенсами, і яким має бути візуальний стиль.</p>
                        </div>
                    </div>
                </div>
                <div class="group bg-white p-8 border border-gray-100 shadow-sm hover:shadow-xl hover:border-black transition-all duration-300">
                    <div class="flex flex-col md:flex-row md:items-baseline gap-4">
                        <span class="font-serif text-3xl italic text-gray-300 group-hover:text-black transition-colors shrink-0">03.</span>
                        <div>
                            <h3 class="font-bold text-lg mb-2 text-black">Економія часу та енергії</h3>
                            <p class="text-xs text-gray-600 font-light leading-relaxed">Ти дізнаєшся як планувати контент на місяць вперед, знімати кілька відео за раз, створити власні шаблони і не витрачати пів дня на думки.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-12 text-center">
                 <button onclick="openModal()" class="inline-block bg-transparent border border-black text-black px-10 py-3 hover:bg-black hover:text-white transition-all duration-300 uppercase tracking-widest text-[10px] font-bold">
                    Отримати систему
                </button>
            </div>
        </div>
    </section>

    <!-- EXPERT SECTION -->
    <section class="py-24 px-6 bg-mono-bg relative border-t border-gray-200">
        <div class="max-w-2xl mx-auto">
            <div class="mb-12 text-center">
                <span class="text-black text-[10px] uppercase tracking-[0.25em] font-bold block mb-4 border-b border-black pb-1 inline-block">Контент стає легким, коли є система</span>
                <h2 class="font-serif text-4xl md:text-5xl font-bold text-black mb-2">Привіт, я <span class="italic font-normal text-mono-grey">Віка</span></h2>
                <p class="text-gray-500 text-xs uppercase font-medium tracking-widest">— експерт з контенту та візуалу</p>
            </div>

            <div class="w-64 h-80 mx-auto overflow-hidden mb-12 relative shadow-xl grayscale hover:grayscale-0 transition-all duration-700">
                 <img src="IMG_1539.JPG" 
                     alt="Victoria Meshcheriakova" 
                     class="w-full h-full object-cover">
            </div>

            <div class="space-y-6 text-gray-700 text-sm md:text-base w-full">
                <div class="bg-white p-8 shadow-sm border-l-2 border-black">
                    <p class="text-black font-medium italic leading-relaxed text-center font-serif text-lg">
                        "Моє завдання — не просто дати тобі шаблон або тренд, а навчити бачити твій блог як робочу систему, де кожен крок має мету і веде до покупки або бажаної співпраці."
                    </p>
                </div>

                <p class="leading-relaxed font-light">
                    Я пропрацювала з десятками блогів експертів та брендів. Мій підхід базується на глибокому розумінні системи: фундамент блогу, сенси які продають, та візуал який говорить без слів. Я не вірю в "немає натхнення" чи "малий блог", я вірю в правильну структуру.
                </p>
                <p class="leading-relaxed font-light">
                    Багато експертів приходять до мене після років хаосу: витрачають години на контент, але не бачать результату. Публікують хаотично — то особисте, то експертне, то продажі — без логіки і зв'язку. Намагаються зробити ідеальний пост, витрачають пів дня, а потім взагалі не публікують. І головне — відчувають, що контент це постійний фоновий стрес.
                </p>
                
                <div class="mt-8 pt-8 border-t border-gray-200">
                    <strong class="text-black block mb-2 uppercase text-[11px] tracking-widest font-bold">Я не даю загальних порад</strong>
                    <p class="text-sm text-gray-600 font-light leading-relaxed">На діагностиці я розберу саме ТВОЮ ситуацію: чому твій контент не чіпляє, де губляться сенси, що в візуалі не працює — щоб ти точно знала, як перетворити хаос на контент, який приводить клієнтів, без дорогої техніки та щоденних зйомок.</p>
                </div>
            </div>

            <div class="mt-16 text-center">
                 <button onclick="openModal()" class="inline-block bg-black text-white px-10 py-4 hover:bg-gray-800 transition-all duration-300 uppercase tracking-[0.15em] text-[10px] font-bold shadow-xl">
                    Хочу розбір
                </button>
            </div>
        </div>
    </section>

    <!-- SYSTEM RESULTS (REVIEWS) -->
    <section class="py-24 bg-white overflow-hidden">
        <div class="px-6 mb-12 text-center">
            <h2 class="font-serif text-3xl md:text-4xl font-bold">Що кажуть <span class="italic font-normal text-mono-grey">дівчата</span></h2>
            <p class="text-[10px] text-gray-400 mt-3 font-light uppercase tracking-widest">Натисніть на фото, щоб відкрити</p>
        </div>
        
        <div class="relative max-w-6xl mx-auto group/slider">
            <button onclick="scrollContainer('reviews-container', -1)" class="hidden md:flex absolute -left-6 top-1/2 -translate-y-1/2 z-20 w-10 h-10 items-center justify-center bg-white border border-gray-200 text-black shadow-sm hover:border-black transition-all">
                <i data-lucide="chevron-left" class="w-5 h-5"></i>
            </button>

            <div id="reviews-container" class="flex overflow-x-auto gap-4 pb-8 no-scrollbar px-6 md:px-0 w-full">
                <div class="shrink-0 w-[280px] md:w-[320px] aspect-[3/4] bg-gray-50 border border-gray-100 flex items-center justify-center cursor-pointer overflow-hidden transition-transform hover:scale-[1.01]" onclick="openImageModal(this)">
                    <img src="05.jpg" class="w-full h-full object-cover">
                </div>
                <div class="shrink-0 w-[280px] md:w-[320px] aspect-[3/4] bg-gray-50 border border-gray-100 flex items-center justify-center cursor-pointer overflow-hidden transition-transform hover:scale-[1.01]" onclick="openImageModal(this)">
                    <img src="02.jpg" alt="Review 2" class="w-full h-full object-cover">
                </div>
                <div class="shrink-0 w-[280px] md:w-[320px] aspect-[3/4] bg-gray-50 border border-gray-100 flex items-center justify-center cursor-pointer overflow-hidden transition-transform hover:scale-[1.01]" onclick="openImageModal(this)">
                    <img src="03.jpg" alt="Review 3" class="w-full h-full object-cover">
                </div>
                <div class="shrink-0 w-[280px] md:w-[320px] aspect-[3/4] bg-gray-50 border border-gray-100 flex items-center justify-center cursor-pointer overflow-hidden transition-transform hover:scale-[1.01]" onclick="openImageModal(this)">
                    <img src="04.jpg" alt="Review 4" class="w-full h-full object-cover">
                </div>
            </div>
            
            <button onclick="scrollContainer('reviews-container', 1)" class="hidden md:flex absolute -right-6 top-1/2 -translate-y-1/2 z-20 w-10 h-10 items-center justify-center bg-white border border-gray-200 text-black shadow-sm hover:border-black transition-all">
                <i data-lucide="chevron-right" class="w-5 h-5"></i>
            </button>
        </div>
        <p class="md:hidden text-center text-[9px] text-gray-400 mt-2 tracking-widest uppercase">гортайте →</p>
    </section>

    <!-- GUARANTEE SECTION -->
    <section class="py-24 px-6 bg-mono-bg text-center pb-32">
        <div class="max-w-xl mx-auto">
            <div class="bg-white border border-gray-200 p-10 shadow-xl relative overflow-hidden">
                
                <div class="relative z-10 flex flex-col items-center">
                    <div class="text-black mb-6">
                        <i data-lucide="shield-check" class="w-10 h-10 stroke-[1.5]"></i>
                    </div>

                    <h3 class="font-serif text-3xl font-bold text-black mb-4 uppercase tracking-widest">
                        Гарантія <br>
                        <span class="italic font-normal text-mono-grey lowercase text-2xl">повернення</span>
                    </h3>
                    
                    <p class="text-gray-600 text-sm md:text-base mb-10 font-light leading-relaxed">
                        Якщо персональна система не принесе користі — я поверну вам усі <span id="guarantee-price" class="font-bold text-black">390</span> грн.
                    </p>

                    <button onclick="openModal()" class="inline-block bg-black text-white px-10 py-4 hover:bg-gray-800 transition-all duration-300 uppercase tracking-[0.15em] text-[10px] font-bold shadow-lg w-full md:w-auto">
                        Хочу розбір
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- FLOATING CTA -->
    <div id="sticky-cta" class="fixed bottom-0 left-0 w-full z-40 px-6 pb-safe bg-gradient-to-t from-white via-white/95 to-transparent pt-6 cta-hidden">
        <div class="max-w-md mx-auto mb-2">
            <button onclick="openModal()" class="w-full bg-black text-white px-8 py-4 font-bold uppercase tracking-[0.15em] text-[10px] md:text-xs hover:bg-gray-800 transition-colors shadow-2xl flex items-center justify-center gap-3">
                <span>Хочу розбір</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-2.5 h-2.5">
                    <path fill-rule="evenodd" d="M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z" clip-rule="evenodd" />
                </svg>
            </button>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-black text-white/40 py-8 text-center text-[10px] uppercase tracking-wider">
        <p>Віка Мещерякова &copy; 2024</p>
    </footer>

    <!-- MODAL WFP -->
    <div id="modal" class="fixed inset-0 z-[60] hidden">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-sm px-4">
            <div class="bg-white p-8 shadow-2xl relative">
                <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-black transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
                <div class="text-center mb-8">
                    <p class="text-[9px] uppercase tracking-[0.3em] text-gray-400 mb-2">Останній крок</p>
                    <h3 class="font-serif text-3xl font-bold text-black leading-tight">Залиште дані</h3>
                </div>
                
                <form id="leadForm" class="space-y-5">
                    <div>
                        <input type="text" id="name" name="name" required placeholder="Ваше ім'я" class="w-full bg-transparent border border-gray-300 py-3 px-4 text-sm focus:border-black focus:outline-none transition-colors">
                    </div>
                    <div>
                        <input type="tel" id="phone" name="phone" required class="w-full bg-transparent border border-gray-300 py-3 px-4 text-sm focus:border-black focus:outline-none transition-colors">
                        <p id="phone-error" class="text-red-500 text-[10px] mt-1 hidden">Перевірте правильність номеру</p>
                    </div>
                    <button type="submit" id="submitBtn" class="w-full bg-black text-white py-4 text-[10px] font-bold uppercase tracking-[0.15em] hover:bg-gray-800 transition-colors mt-4">
                        Перейти до оплати
                    </button>
                </form>
                <p class="text-[9px] text-gray-400 text-center mt-6 uppercase tracking-wider">Дані захищені.</p>
            </div>
        </div>
    </div>

    <!-- IMAGE LIGHTBOX -->
    <div id="image-modal" class="fixed inset-0 z-[70] hidden flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm transition-opacity" onclick="closeImageModal()">
        <button class="absolute top-5 right-5 text-white/70 hover:text-white z-50 p-2">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
        </button>
        <div class="w-full h-full flex items-center justify-center overflow-auto">
             <img id="lightbox-image" src="" alt="Full Screen" 
                  class="max-w-[95vw] max-h-[90vh] object-contain shadow-2xl rounded-sm transition-transform"
                  onclick="event.stopPropagation()">
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"></script>

    <script>
        lucide.createIcons();

        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz5Gz2aD1fuz0T4fACh7w3YhJdqRvrysxeLRKJB2rRGzFT9QEQa_sA3dNCS29ccv_ObVg/exec'; 
        
        const WFP_SECRET_KEY = 'd9813f561284abe48c68b778f8fc4e72b8b3740e'; 
        const WFP_MERCHANT_ACCOUNT = 'freelance_user_674ece748edc5'; 
        
        const WFP_MERCHANT_DOMAIN = 'victoriameshcheriakova.vercel.app'; 

        const PRICING = {
            '882': { current: 290, old: 1290 }, 
            'default': { current: 390, old: 1790 }, 
            '551': { current: 590, old: 2190 },
            'test': { current: 1, old: 100 }
        };

        let currentPriceObj = PRICING['default'];

        function initPrice() {
            const urlParams = new URLSearchParams(window.location.search);
            const uid = urlParams.get('uid'); 

            if (uid && PRICING[uid]) {
                currentPriceObj = PRICING[uid];
            } else {
                currentPriceObj = PRICING['default'];
            }

            const priceMain = document.getElementById('ui-price-main');
            const priceOld = document.getElementById('ui-price-old');
            const guaranteePrice = document.getElementById('guarantee-price');

            if (priceMain) priceMain.textContent = currentPriceObj.current + ' грн';
            if (priceOld) priceOld.textContent = currentPriceObj.old + ' грн';
            if (guaranteePrice) guaranteePrice.textContent = currentPriceObj.current;
        }

        function startTimer(duration, displays) {
            let timer = duration, minutes, seconds;
            setInterval(function () {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);
                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;
                displays.forEach(display => {
                    if(display) display.textContent = minutes + ":" + seconds;
                });
                if (--timer < 0) timer = 0;
            }, 1000);
        }

        function setupInfiniteScroll(id) {
            const container = document.getElementById(id);
            if (!container) return;
            const content = container.innerHTML;
            container.innerHTML = content + content + content;
            
            const centerPosition = () => {
                container.scrollLeft = container.scrollWidth / 3;
            };

            const handleScroll = () => {
                const totalWidth = container.scrollWidth;
                const oneThird = totalWidth / 3;
                if (container.scrollLeft >= oneThird * 2) { 
                    container.scrollLeft -= oneThird;
                } else if (container.scrollLeft <= 50) { 
                    container.scrollLeft += oneThird;
                }
            };
            container.addEventListener('scroll', handleScroll);
            setTimeout(centerPosition, 100);
        }

        function initStickyObserver() {
            const header = document.getElementById('hero-section'); 
            const stickyCta = document.getElementById('sticky-cta');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        stickyCta.classList.add('cta-hidden');
                        stickyCta.classList.remove('cta-visible');
                    } else {
                        stickyCta.classList.remove('cta-hidden');
                        stickyCta.classList.add('cta-visible');
                    }
                });
            }, { threshold: 0.2 }); 

            if(header) observer.observe(header);
        }

        window.onload = function () {
            initPrice(); 
            const tenMinutes = 60 * 10;
            const displays = [document.querySelector('#hero-timer')];
            startTimer(tenMinutes, displays);
            setupInfiniteScroll('storytelling-container');
            setupInfiniteScroll('reviews-container');
            initStickyObserver(); 
        };

        const input = document.querySelector("#phone");
        const iti = window.intlTelInput(input, {
            initialCountry: "auto",
            geoIpLookup: function(success, failure) {
                fetch("https://get.geojs.io/v1/ip/country.json")
                    .then(res => res.json())
                    .then(data => success(data.country))
                    .catch(() => success("ua"));
            },
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js",
            separateDialCode: true
        });

        const modal = document.getElementById('modal');
        function openModal() {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            fbq('track', 'InitiateCheckout', {
                value: parseFloat(currentPriceObj.current),
                currency: 'UAH',
                content_name: 'Персональна Діагностика Віка',
                content_category: currentPriceObj.current + ' грн'
            });
        }
        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        const imageModal = document.getElementById('image-modal');
        const lightboxImage = document.getElementById('lightbox-image');

        function openImageModal(element) {
            const img = element.querySelector('img');
            if (img) {
                lightboxImage.src = img.src;
                imageModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
        }
        function closeImageModal() {
            imageModal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                closeImageModal();
                closeModal();
            }
        });

        function scrollContainer(id, direction) {
            const container = document.getElementById(id);
            const scrollAmount = 340; 
            container.scrollBy({ left: scrollAmount * direction, behavior: 'smooth' });
        }

        function generateOrderId() {
            return 'ORDER_' + Date.now() + '_' + Math.floor(Math.random() * 10000);
        }

        function pay(orderData) {
            const safeAmount = String(currentPriceObj.current);
            const urlParams = new URLSearchParams(window.location.search);
            const currentUid = urlParams.get('uid') || 'default';
            
            localStorage.setItem('wfp_uid', currentUid);
            localStorage.setItem('wfp_amount', safeAmount);

            const DOMAIN = 'https://victoriameshcheriakova.vercel.app'; 
            const successUrl = DOMAIN + '/success.html';
            const failUrl = DOMAIN + '/failed.html';
            
            const orderDate = Math.floor(Date.now() / 1000);
            const productName = "Персональна Діагностика";
            const productCount = "1";
            
            const stringToSign = [
                WFP_MERCHANT_ACCOUNT,
                WFP_MERCHANT_DOMAIN,
                orderData.orderId,
                orderDate,
                safeAmount,
                "UAH",
                productName,
                productCount,
                safeAmount
            ].join(";");

            const signature = CryptoJS.HmacMD5(stringToSign, WFP_SECRET_KEY).toString();

            var wayforpay = new Wayforpay();
            wayforpay.run({
                merchantAccount : WFP_MERCHANT_ACCOUNT,
                merchantDomainName : WFP_MERCHANT_DOMAIN,
                authorizationType : "SimpleSignature",
                merchantSignature : signature, 
                orderReference : orderData.orderId, 
                orderDate : orderDate,
                amount : safeAmount, 
                currency : "UAH",
                productName : [productName],
                productPrice : [safeAmount], 
                productCount : [productCount],
                clientFirstName : orderData.name,
                clientPhone: orderData.phone,
                language: "UA",
                returnUrl: successUrl,
                serviceUrl: GOOGLE_SCRIPT_URL
            },
            function (response) {
                window.location.href = successUrl + "?orderReference=" + orderData.orderId;
            },
            function (response) {
                window.location.href = failUrl;
            },
            function (response) {
                console.log("Payment pending/error");
            });
        }

        const form = document.getElementById('leadForm');
        const submitBtn = document.getElementById('submitBtn');
        const errorMsg = document.getElementById('phone-error');

        function getUTM() {
            const params = new URLSearchParams(window.location.search);
            return {
                source: params.get('utm_source') || '',
                medium: params.get('utm_medium') || '',
                campaign: params.get('utm_campaign') || '',
                content: params.get('utm_content') || '',
                term: params.get('utm_term') || ''
            };
        }

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            errorMsg.classList.add('hidden');
            
            if (!iti.isValidNumber()) {
                errorMsg.classList.remove('hidden');
                return;
            }

            submitBtn.disabled = true;
            submitBtn.textContent = 'ОБРОБКА...';

            const uniqueOrderId = generateOrderId();
            
            const formData = {
                target_sheet: "Контент Діагностика", 
                date: new Date().toLocaleString("uk-UA"),
                orderId: uniqueOrderId, 
                name: document.getElementById('name').value,
                phone: iti.getNumber(),
                amount: currentPriceObj.current, 
                variant_name: `Price Test: ${currentPriceObj.current} UAH`, 
                status: "Pending Payment", 
                ...getUTM()
            };

            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            }).then(() => {
                localStorage.setItem('purchase_price', currentPriceObj.current);
                
                fbq('track', 'Lead', {
                    value: parseFloat(currentPriceObj.current),
                    currency: 'UAH',
                    content_name: 'Персональна Діагностика Віка',
                    content_category: currentPriceObj.current + ' грн'
                });
                pay({
                    orderId: uniqueOrderId,
                    name: formData.name,
                    phone: formData.phone
                });
                submitBtn.disabled = false;
                submitBtn.textContent = 'ПЕРЕЙТИ ДО ОПЛАТИ';
            }).catch(err => {
                console.error('Error:', err);
                submitBtn.disabled = false;
                submitBtn.textContent = 'СПРОБУВАТИ ЩЕ РАЗ';
            });
        });
    </script>
</body>
</html>
